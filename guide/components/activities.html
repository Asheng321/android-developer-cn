<!DOCTYPE html>












































































<html>
<head>


<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width" />

<link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<title>活动 | 安卓开发者</title><!-- STYLESHEETS --><!-- JAVASCRIPT -->


<link rel="stylesheet"
href="http://fonts.googleapis.com/css?family=Roboto:regular,medium,thin,italic,mediumitalic,bold" title="roboto">
<link href="../../assets/css/default.css" rel="stylesheet" type="text/css">




<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script src="../../assets/js/android_3p-bundle.js" type="text/javascript"></script>
<script type="text/javascript">
  var toRoot = "../../";
  var devsite = false;
</script>
<script src="../../assets/js/docs.js" type="text/javascript"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5831155-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="gc-documentation 
  develop guide" itemscope itemtype="http://schema.org/Article"><!-- Header -->

<a name="top"></a>

    
    <div id="header">
        <div class="wrap" id="header-wrap">
          <div class="col-3 logo">
          <a href="../../index.html">
            <img src="../../assets/images/dac_logo.png" width="123" height="25" alt="Android Developers" />
          </a>
          <div class="btn-quicknav" id="btn-quicknav">
          	<a href="#" class="arrow-inactive">Quicknav</a>
			      <a href="#" class="arrow-active">Quicknav</a>
          </div>
          </div>
            <ul class="nav-x col-9">
                <li class="design">
                  <a href="../../design/index.html"
                  zh-tw-lang="設計"
                  zh-cn-lang="设计"
                  ru-lang="Проектирование"
                  ko-lang="디자인"
                  ja-lang="設計"
                  es-lang="Diseñar"               
                  >设计</a></li>
                <li class="develop"><a href="../../develop/index.html"
                  zh-tw-lang="開發"
                  zh-cn-lang="开发"
                  ru-lang="Разработка"
                  ko-lang="개발"
                  ja-lang="開発"
                  es-lang="Desarrollar"               
                  >开发</a></li>
                <li class="distribute last"><a href="../../distribute/index.html"
                  zh-tw-lang="發佈"
                  zh-cn-lang="分发"
                  ru-lang="Распространение"
                  ko-lang="배포"
                  ja-lang="配布"
                  es-lang="Distribuir"               
                  >分发</a></li>
            </ul><!-- New Search -->
            
            
            <div class="menu-container">
            <div class="moremenu">
    <div id="more-btn"></div>
  </div>
  <div class="morehover" id="moremenu">
    <div class="top"></div>
    <div class="mid">
      <div class="header">Links</div>
      <ul>
        <li><a href="https://play.google.com/apps/publish/">Google Play Developer Console</a></li>
        <li><a href="http://android-developers.blogspot.com/">Android Developers Blog</a></li>
        <li><a href="../../about/index.html">About Android</a></li>
      </ul>
      <div class="header">Android Sites</div>
      <ul>
        <li><a href="http://www.android.com">Android.com</a></li>
        <li class="active"><a>Android Developers</a></li>
        <li><a href="http://source.android.com">Android Open Source Project</a></li>
      </ul>
      
      
      
      


      <br class="clearfix" />
    </div>
    <div class="bottom"></div>
  </div>
  <div class="search" id="search-container">
    <div class="search-inner">
      <div id="search-btn"></div>
      <div class="left"></div>
      <form onsubmit="return submit_search()">
        <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q"
onfocus="search_focus_changed(this, true)" onblur="search_focus_changed(this, false)"
onkeydown="return search_changed(event, true, '../../')" 
onkeyup="return search_changed(event, false, '../../')" />
      </form>
      <div class="right"></div>
        <a class="close hide">close</a>
        <div class="left"></div>
        <div class="right"></div>
    </div>
  </div>

  <div class="search_filtered_wrapper reference">
    <div class="suggest-card reference no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

  <div class="search_filtered_wrapper docs">
    <div class="suggest-card dummy no-display">&nbsp;</div>
    <div class="suggest-card develop no-display">
      <ul class="search_filtered">
      </ul>
      <div class="child-card guides no-display">
      </div>
      <div class="child-card training no-display">
      </div>
    </div>
    <div class="suggest-card design no-display">
      <ul class="search_filtered">
      </ul>
    </div>
    <div class="suggest-card distribute no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

  </div><!-- /New Search>
          
          
          <!-- Expanded quicknav -->
  
           <div id="quicknav" class="col-9">
                <ul>
                    <li class="design">
                      <ul>
                        <li><a href="../../design/index.html">入门</a></li>
                        <li><a href="../../design/style/index.html">样式</a></li>
                        <li><a href="../../design/patterns/index.html">设计模式</a></li>
                        <li><a href="../../design/building-blocks/index.html">构造块</a></li>
                        <li><a href="../../design/downloads/index.html">下载</a></li>
                        <li><a href="../../design/videos/index.html">视频</a></li>
                      </ul>
                    </li>
                    <li class="develop">
                      <ul>
                        <li><a href="../../training/index.html"
                          zh-tw-lang="訓練課程"
                          zh-cn-lang="培训"
                          ru-lang="Курсы"
                          ko-lang="교육"
                          ja-lang="トレーニング"
                          es-lang="Capacitación"               
                          >训练课程</a></li>
                        <li><a href="../../guide/components/index.html"
                          zh-tw-lang="API 指南"
                          zh-cn-lang="API 指南"
                          ru-lang="Руководства по API"
                          ko-lang="API 가이드"
                          ja-lang="API ガイド"
                          es-lang="Guías de la API"               
                          >API 指南</a></li>
                        <li><a href="../../reference/packages.html"
                          zh-tw-lang="參考資源"
                          zh-cn-lang="参考"
                          ru-lang="Справочник"
                          ko-lang="참조문서"
                          ja-lang="リファレンス"
                          es-lang="Referencia"               
                          >参考资源</a></li>
                        <li><a href="../../tools/index.html"
                          zh-tw-lang="相關工具"
                          zh-cn-lang="工具"
                          ru-lang="Инструменты"
                          ko-lang="도구"
                          ja-lang="ツール"
                          es-lang="Herramientas"               
                          >开发工具</a>
                          <ul><li><a href="../../sdk/index.html">获取 SDK</a></li></ul>
                        </li>
                        <li><a href="../../google/index.html">Google 服务</a>
                        </li>
                        
                      </ul>
                    </li>
                    <li class="distribute last">
                      <ul>
                        <li><a href="../../distribute/index.html">Google Play 市场</a></li>
                        <li><a href="../../distribute/googleplay/publish/index.html">应用发布</a></li>
                        <li><a href="../../distribute/googleplay/promote/index.html">应用推广</a></li>
                        <li><a href="../../distribute/googleplay/quality/index.html">应用质量</a></li>
                        <li><a href="../../distribute/googleplay/spotlight/index.html">精品聚焦</a></li>
                        <li><a href="../../distribute/open.html">开放发行</a></li>
                      </ul>
                    </li>
                </ul>
          </div><!-- /Expanded quicknav -->
          
        </div>
    </div><!-- /Header -->
    
    
    
  <div id="searchResults" class="wrap" style="display:none;">
          <h2 id="searchTitle">Results</h2>
          <div id="leftSearchControl" class="search-control">Loading...</div>
  </div><!-- Secondary x-nav -->
    
    
  
    
    <div id="nav-x">
        <div class="wrap">
            <ul class="nav-x col-9 develop" style="width:100%">
                <li class="training"><a href="../../training/index.html"
                  zh-tw-lang="訓練課程"
                  zh-cn-lang="培训"
                  ru-lang="Курсы"
                  ko-lang="교육"
                  ja-lang="トレーニング"
                  es-lang="Capacitación"               
                  >训练课程</a></li>
                <li class="guide"><a href="../../guide/components/index.html"
                  zh-tw-lang="API 指南"
                  zh-cn-lang="API 指南"
                  ru-lang="Руководства по API"
                  ko-lang="API 가이드"
                  ja-lang="API ガイド"
                  es-lang="Guías de la API"               
                  >API 指南</a></li>
                <li class="reference"><a href="../../reference/packages.html"
                  zh-tw-lang="參考資源"
                  zh-cn-lang="参考"
                  ru-lang="Справочник"
                  ko-lang="참조문서"
                  ja-lang="リファレンス"
                  es-lang="Referencia"               
                  >参考资源</a></li>
                <li class="tools"><a href="../../tools/index.html"
                  zh-tw-lang="相關工具"
                  zh-cn-lang="工具"
                  ru-lang="Инструменты"
                  ko-lang="도구"
                  ja-lang="ツール"
                  es-lang="Herramientas"
                  >开发工具</a></li>
                <li class="google"><a href="../../google/index.html"
                  >Google 服务</a>
                </li>
                
            </ul>
        </div>
        
    </div><!-- /Sendondary x-nav -->
    
  




  

  <div class="wrap clearfix" id="body-content">
    <div class="col-4" id="side-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
      <div id="devdoc-nav" class="scroll-pane">
<a class="totop" href="#top" data-g-event="left-nav-top">to top</a>



<ul id="nav"><!--  Walkthrough for Developers -- quick overview of what it's like to develop on Android --><!--<li style="color:red">Overview</li> -->
  
  

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../guide/components/index.html">
        <span class="en">应用组件</span>
      </a></div>
    <ul>
      <li><a href="../../guide/components/fundamentals.html">
            <span class="en">应用基本知识</span></a>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/components/activities.html">
            <span class="en">活动</span>
          </a></div>
        <ul>
          <li><a href="../../guide/components/fragments.html">
              <span class="en">活动片段</span>
            </a></li>
          <li><a href="../../guide/components/loaders.html">
              <span class="en">加载器</span>
            </a></li>
          <li><a href="../../guide/components/tasks-and-back-stack.html">
              <span class="en">任务和活动堆栈</span>
            </a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/components/services.html">
            <span class="en">服务</span>
          </a></div>
        <ul>
          <li><a href="../../guide/components/bound-services.html">
              <span class="en">绑定服务</span>
            </a></li>
          <li><a href="../../guide/components/aidl.html">
              <span class="en">AIDL</span>
            </a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/providers/content-providers.html">
            <span class="en">内容提供商</span>
          </a></div>
        <ul>
          <li><a href="../../guide/topics/providers/content-provider-basics.html">
              <span class="en">内容提供商基础</span>
            </a></li>
          <li><a href="../../guide/topics/providers/content-provider-creating.html">
              <span class="en">创建一个内容提供商</span>
            </a></li>
          <li><a href="../../guide/topics/providers/calendar-provider.html">
              <span class="en">日历提供商</span>
            </a></li>
          <li><a href="../../guide/topics/providers/contacts-provider.html">
              <span class="en">联系人提供商</span>
            </a></li>
          <li><a href="../../guide/topics/providers/document-provider.html">
              <span class="en">存储访问框架</span>
            </a></li>
        </ul>
      </li>
      <li><a href="../../guide/components/intents-filters.html">
          <span class="en">意图与意图过滤器</span>
        </a></li>
      <li><a href="../../guide/components/processes-and-threads.html">
          <span class="en">进程和线程</span>
        </a>
      </li>
      <li><a href="../../guide/topics/security/permissions.html">
          <span class="en">权限</span>
        </a>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/appwidgets/index.html">
            <span class="en">应用小部件</span>
          </a></div>
        <ul>
          <li><a href="../../guide/topics/appwidgets/host.html">
              <span class="en">应用小部件托管</span>
            </a></li>
        </ul>
      </li>
      <li class="nav-section">
      <div class="nav-section-header"><a href="../../guide/topics/manifest/manifest-intro.html">
          <span class="en">安卓项目清单</span>
        </a></div>
        <ul>
          <li><a href="../../guide/topics/manifest/action-element.html">&lt;action&gt;</a></li>
          <li><a href="../../guide/topics/manifest/activity-element.html">&lt;activity&gt;</a></li>
          <li><a href="../../guide/topics/manifest/activity-alias-element.html">&lt;activity-alias&gt;</a></li>
          <li><a href="../../guide/topics/manifest/application-element.html">&lt;application&gt;</a></li>
          <li><a href="../../guide/topics/manifest/category-element.html">&lt;category&gt;</a></li>
          <li><a href="../../guide/topics/manifest/compatible-screens-element.html">&lt;compatible-screens&gt;</a></li>
          <li><a href="../../guide/topics/manifest/data-element.html">&lt;data&gt;</a></li>
          <li><a href="../../guide/topics/manifest/grant-uri-permission-element.html">&lt;grant-uri-permission&gt;</a></li>
          <li><a href="../../guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></li>
          <li><a href="../../guide/topics/manifest/intent-filter-element.html">&lt;intent-filter&gt;</a></li>
          <li><a href="../../guide/topics/manifest/manifest-element.html">&lt;manifest&gt;</a></li>
          <li><a href="../../guide/topics/manifest/meta-data-element.html">&lt;meta-data&gt;</a></li>
          <li><a href="../../guide/topics/manifest/path-permission-element.html">&lt;path-permission&gt;</a></li>
          <li><a href="../../guide/topics/manifest/permission-element.html">&lt;permission&gt;</a></li>
          <li><a href="../../guide/topics/manifest/permission-group-element.html">&lt;permission-group&gt;</a></li>
          <li><a href="../../guide/topics/manifest/permission-tree-element.html">&lt;permission-tree&gt;</a></li>
          <li><a href="../../guide/topics/manifest/provider-element.html">&lt;provider&gt;</a></li>
          <li><a href="../../guide/topics/manifest/receiver-element.html">&lt;receiver&gt;</a></li>
          <li><a href="../../guide/topics/manifest/service-element.html">&lt;service&gt;</a></li>
          <li><a href="../../guide/topics/manifest/supports-gl-texture-element.html">&lt;supports-gl-texture&gt;</a></li>
          <li><a href="../../guide/topics/manifest/supports-screens-element.html">&lt;supports-screens&gt;</a></li><!-- ##api level 4## -->
          <li><a href="../../guide/topics/manifest/uses-configuration-element.html">&lt;uses-configuration&gt;</a></li>
          <li><a href="../../guide/topics/manifest/uses-feature-element.html">&lt;uses-feature&gt;</a></li><!-- ##api level 4## --> 
          <li><a href="../../guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></li>
          <li><a href="../../guide/topics/manifest/uses-permission-element.html">&lt;uses-permission&gt;</a></li>
          <li><a href="../../guide/topics/manifest/uses-sdk-element.html">&lt;uses-sdk&gt;</a></li>
        </ul>
   </li><!-- end of the manifest file -->

    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../guide/topics/ui/index.html">
        <span class="en">用户界面</span>
      </a></div>
    <ul>
      <li><a href="../../guide/topics/ui/overview.html">
          <span class="en">概述</span>
        </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/ui/declaring-layout.html">
            <span class="en">布局</span>
          </a></div>
        <ul>
          <li><a href="../../guide/topics/ui/layout/linear.html">
              <span class="en">线性布局</span>
            </a></li>
          <li><a href="../../guide/topics/ui/layout/relative.html">
              <span class="en">相对布局</span>
            </a></li><!--
          <li><a href="../../guide/topics/ui/layout/grid.html">
              <span class="en">Grid Layout</span>
            </a></li>
       -->
       
          <li><a href="../../guide/topics/ui/layout/listview.html">
              <span class="en">列表视图</span>
            </a></li>
          <li><a href="../../guide/topics/ui/layout/gridview.html">
              <span class="en">网格视图</span>
            </a></li>
        </ul>
      </li>

      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/ui/controls.html">
            <span class="en">输入控件</span>
          </a></div>
        <ul>
          <li><a href="../../guide/topics/ui/controls/button.html">
              <span class="en">按钮</span>
            </a></li>
          <li><a href="../../guide/topics/ui/controls/text.html">
              <span class="en">文本框</span>
            </a></li>
          <li><a href="../../guide/topics/ui/controls/checkbox.html">
              <span class="en">复选框</span>
            </a></li>
          <li><a href="../../guide/topics/ui/controls/radiobutton.html">
              <span class="en">单选按钮</span>
            </a></li>
          <li><a href="../../guide/topics/ui/controls/togglebutton.html">
              <span class="en">切换按钮</span>
            </a></li>
          <li><a href="../../guide/topics/ui/controls/spinner.html">
              <span class="en">下拉列表</span>
            </a></li>
          <li><a href="../../guide/topics/ui/controls/pickers.html">
              <span class="en">选择器</span>
            </a></li><!--
          <li><a href="../../guide/topics/ui/controls/progress.html">
              <span class="en">Seek and Progress Bars</span>
            </a></li>
-->

        </ul>
      </li>
      <li><a href="../../guide/topics/ui/ui-events.html">
          <span class="en">输入事件</span>
        </a></li>
      <li><a href="../../guide/topics/ui/menus.html">
          <span class="en">菜单</span></span>
          </a></li>
      <li><a href="../../guide/topics/ui/actionbar.html">
           <span class="en">操作栏</span>
          </a></li>
      <li><a href="../../guide/topics/ui/settings.html">
            <span class="en">设置</span>
          </a></li>
      <li><a href="../../guide/topics/ui/dialogs.html">
           <span class="en">对话框</span>
          </a></li>
      <li><a href="../../guide/topics/ui/notifiers/notifications.html">
          <span class="en">通知</span>
        </a></li>
      <li><a href="../../guide/topics/ui/notifiers/toasts.html">
          <span class="en">提醒框</span>
        </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/search/index.html">
            <span class="en">搜索</span>
          </a></div>
          <ul>
            <li><a href="../../guide/topics/search/search-dialog.html">创建一个搜索界面</a></li>
            <li><a href="../../guide/topics/search/adding-recent-query-suggestions.html">添加最近查询建议</a></li>
            <li><a href="../../guide/topics/search/adding-custom-suggestions.html">添加自定义建议</a></li>
            <li><a href="../../guide/topics/search/searchable-config.html">可搜索配置</a></li>
          </ul>
      </li>
      <li><a href="../../guide/topics/ui/drag-drop.html">
          <span class="en">拖放</span>
        </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/ui/accessibility/index.html">
            <span class="en">辅助功能</span>
          </a></div>
        <ul>
          <li><a href="../../guide/topics/ui/accessibility/apps.html">
              <span class="en">让应用可访问</span>
            </a></li>
          <li><a href="../../guide/topics/ui/accessibility/checklist.html">
              <span class="en">辅助功能开发者清单</span>
            </a></li>
          <li><a href="../../guide/topics/ui/accessibility/services.html">
              <span class="en">构建辅助功能服务</span>
            </a></li>
        </ul>
      </li>
      <li><a href="../../guide/topics/ui/themes.html">
          <span class="en">样式与主题</span>
        </a></li>
      <li><a href="../../guide/topics/ui/custom-components.html">
          <span class="en">自定义组件</span>
        </a></li>
    </ul>
  </li><!-- end of User Interface -->

    <li class="nav-section">
      <div class="nav-section-header"><a href="../../guide/topics/resources/index.html">
           <span class="en">应用资源</span>
         </a></div>
      <ul>
        <li><a href="../../guide/topics/resources/overview.html">
            <span class="en">概述</span>
          </a></li>
          <li><a href="../../guide/topics/resources/providing-resources.html">
            <span class="en">提供资源</span>
          </a></li>
        <li><a href="../../guide/topics/resources/accessing-resources.html">
            <span class="en">访问资源</span>
          </a></li>
        <li><a href="../../guide/topics/resources/runtime-changes.html">
              <span class="en">处理运行时更改</span>
            </a></li>
        <li><a href="../../guide/topics/resources/localization.html">
            <span class="en">本地化</span>
          </a></li>
        <li class="nav-section">
          <div class="nav-section-header"><a href="../../guide/topics/resources/available-resources.html">
              <span class="en">资源类型</span>
            </a></div>
          <ul>
            <li><a href="../../guide/topics/resources/animation-resource.html">动画</a></li>
            <li><a href="../../guide/topics/resources/color-list-resource.html">颜色状态列表</a></li>
            <li><a href="../../guide/topics/resources/drawable-resource.html">可描绘资源</a></li>
            <li><a href="../../guide/topics/resources/layout-resource.html">布局</a></li>
            <li><a href="../../guide/topics/resources/menu-resource.html">菜单</a></li>
            <li><a href="../../guide/topics/resources/string-resource.html">字符串</a></li>
            <li><a href="../../guide/topics/resources/style-resource.html">样式</a></li>
            <li><a href="../../guide/topics/resources/more-resources.html">更多类型</a></li>
          </ul>
        </li><!-- end of resource types -->
      </ul>
    </li><!-- end of app resources -->

   <li class="nav-section">
      <div class="nav-section-header"><a href="../../guide/topics/graphics/index.html">
          <span class="en">动画与图形</span>
        </a></div>
      <ul>
      <li class="nav-section">
        </li><li><a href="../../guide/topics/graphics/overview.html">
            <span class="en">概述</span>
          </a></li>
        <li><a href="../../guide/topics/graphics/prop-animation.html">
            <span class="en">属性动画</span>
          </a></li>
        <li><a href="../../guide/topics/graphics/view-animation.html">
            <span class="en">补间动画</span>
          </a></li>
        <li><a href="../../guide/topics/graphics/drawable-animation.html">
            <span class="en">帧动画</span>
          </a></li>
        <li><a href="../../guide/topics/graphics/2d-graphics.html">
            <span class="en">画布与图形</span>
          </a></li>
        <li><a href="../../guide/topics/graphics/opengl.html">
            <span class="en">OpenGL ES</span>
          </a></li>
        <li><a href="../../guide/topics/graphics/hardware-accel.html">
            <span class="en">硬件加速</span>
          </a></li>
       </ul>
    </li><!-- end of graphics and animation-->

   <li class="nav-section">
            <div class="nav-section-header"><a href="../../guide/topics/renderscript/index.html">
              <span class="en">计算</span>
            </a></div>
            <ul>
              <li><a href="../../guide/topics/renderscript/compute.html">
                    <span class="en">RenderScript</span></a>
                  </li>

              <li><a href="../../guide/topics/renderscript/advanced.html">
                    <span class="en">RenderScript 进阶</span></a>
                  </li>
              <li><a href="../../guide/topics/renderscript/reference.html">
                    <span class="en">运行时 API 参考</span></a>
              </li>
             </ul>
   </li>
      <li class="nav-section">
          <div class="nav-section-header"><a href="../../guide/topics/media/index.html">
            <span class="en">多媒体与照相机</span>
          </a></div>
          <ul>
            <li><a href="../../guide/topics/media/mediaplayer.html">
                  <span class="en">多媒体播放</span></a>
                </li>
            <li><a href="../../guide/appendix/media-formats.html">
                   <span class="en">支持的多媒体格式</span></a>
                </li>
            <li><a href="../../guide/topics/media/audio-capture.html">
                  <span class="en">音频录制</span></a>
                </li>
            <li><a href="../../guide/topics/media/jetplayer.html">
                  <span class="en">JetPlayer</span></a>
                </li>
            <li><a href="../../guide/topics/media/camera.html">
                  <span class="en">照相机</span></a>
                </li>
          </ul>
      </li><!-- end of media and camera -->

      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/sensors/index.html">
              <span class="en">位置与传感器</span>
              </a></div>
        <ul>
          <li><a href="../../guide/topics/location/index.html">
               <span class="en">位置和地图</span>
             </a>
          </li><li><a href="../../guide/topics/location/strategies.html">
               <span class="en">位置策略</span>
             </a></li>
          <li><a href="../../guide/topics/sensors/sensors_overview.html">
              <span class="en">传感器概述</span>
            </a></li>
          <li><a href="../../guide/topics/sensors/sensors_motion.html">
              <span class="en">动作传感器</span>
            </a></li>
          <li><a href="../../guide/topics/sensors/sensors_position.html">
              <span class="en">位置传感器</span>
            </a></li>
          <li><a href="../../guide/topics/sensors/sensors_environment.html">
              <span class="en">环境传感器</span>
            </a></li>
        </ul>
      </li><!-- end of location and sensors -->



<li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/connectivity/index.html">
               <span class="en">连接性</span>
             </a></div>
        <ul>
          <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/connectivity/bluetooth.html">
          <span class="en">蓝牙</span></a>
        </div>
        <ul>
          <li><a href="../../guide/topics/connectivity/bluetooth-le.html">低功耗蓝牙</a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/connectivity/nfc/index.html">
          <span class="en">NFC</span></a>
        </div>
        <ul>
          <li><a href="../../guide/topics/connectivity/nfc/nfc.html">NFC 基础</a></li>
          <li><a href="../../guide/topics/connectivity/nfc/advanced-nfc.html">高级 NFC</a></li>
          <li><a href="../../guide/topics/connectivity/nfc/hce.html">Host-based Card Emulation</a></li>
        </ul>
      </li>
      <li><a href="../../guide/topics/connectivity/wifip2p.html">
            <span class="en">Wi-Fi P2P</span></a>
          </li>
      <li class="nav-section">
          <div class="nav-section-header"><a href="../../guide/topics/connectivity/usb/index.html">
            <span class="en">USB</span></a>
          </div>
            <ul>
              <li><a href="../../guide/topics/connectivity/usb/accessory.html">附件</a></li>
              <li><a href="../../guide/topics/connectivity/usb/host.html">主机</a></li>
            </ul>
     </li>
     <li><a href="../../guide/topics/connectivity/sip.html">
            <span class="en">SIP</span>
          </a>
     </li>

    </ul>
  </li><!-- end of connectivity -->


      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/topics/text/index.html">
            <span class="en">文本与输入</span>
        </a></div>
        <ul>
          <li><a href="../../guide/topics/text/copy-paste.html">
              <span class="en">复制和粘贴</span>
            </a></li>
          <li><a href="../../guide/topics/text/creating-input-method.html">
              <span class="en">创建输入法引擎</span>
            </a></li>
          <li><a href="../../guide/topics/text/spell-checker-framework.html">
              <span class="en">拼写检查</span>
            </a></li>
        </ul>
      </li><!-- end of text and input -->

     <li class="nav-section">
      <div class="nav-section-header"><a href="../../guide/topics/data/index.html">
          <span class="en">数据存储</span>
        </a></div>
      <ul>
         <li><a href="../../guide/topics/data/data-storage.html">
            <span class="en">存储选项</span>
           </a></li>
        <li><a href="../../guide/topics/data/backup.html">
            <span class="en">数据备份</span>
          </a></li>
        <li><a href="../../guide/topics/data/install-location.html">
            <span class="en">应用安装位置</span>
          </a></li>
      </ul>
    </li><!-- end of data storage -->


  <li class="nav-section">
           <div class="nav-section-header"><a href="../../guide/topics/admin/index.html">
               <span class="en">管理</span>
             </a></div>
           <ul>
              <li>
                <a href="../../guide/topics/admin/device-admin.html">
                <span class="en">设备管理</span></a>
              </li><!--
              <li>
                <a href="../../guide/topics/admin/keychain.html">
                <span class="en">Certificate Store</span></a>
              </li>
            -->
            
           </ul>
  </li><!-- end of administration -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../guide/webapps/index.html">
    <span class="en">Web 应用</span>
    </a></div>
    <ul>
      <li><a href="../../guide/webapps/overview.html">
            <span class="en">概述</span>
          </a></li>
      <li><a href="../../guide/webapps/targeting.html">
            <span class="en">Web 应用的目标屏幕</span>
          </a></li>
      <li><a href="../../guide/webapps/webview.html">
            <span class="en">在 WebView 中创建 Web 应用</span>
          </a></li>
      <li><a href="../../guide/webapps/migrating.html">
            <span class="en">迁移到 Android 4.4 版本的 WebView</span>
          </a></li>
      <li><a href="../../guide/webapps/debugging.html">
            <span class="en">Web 应用调试</span>
          </a></li>
      <li><a href="../../guide/webapps/best-practices.html">
            <span class="en">Web 应用的最佳实践</span>
          </a></li>
    </ul>
  </li><!-- end of web apps -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../guide/practices/index.html">
      <span class="en">最佳实践</span> <span class="de" style="display:none">Bewährte Verfahren</span> <span class="es" style="display:none">Prácticas recomendadas</span> <span class="fr" style="display:none">Meilleures pratiques</span> <span class="it" style="display:none">Best practice</span> <span class="ja" style="display:none">ベスト プラクティス</span> <span class="zh-cn" style="display:none">最佳实践</span> <span class="zh-tw" style="display:none">最佳實務</span>
    </a></div></a>
    <ul>
      <li><a href="../../guide/practices/compatibility.html">
            <span class="en">兼容性</span>
          </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/practices/screens_support.html">
          <span class="en">支持多个屏幕</span>
        </a></div>
        <ul>
          <li><a href="../../guide/practices/screens-distribution.html">
            <span class="en">分发给特定的屏幕</span>
          </a></li>
          <li><a href="../../guide/practices/screen-compat-mode.html">
            <span class="en">屏幕兼容性模式</span>
          </a></li>
        </ul>
      </li>
      <li><a href="../../guide/practices/tablets-and-handsets.html">
            <span class="en">支持平板设备和手持设备</span>
          </a></li>

    </ul>
  </li><!-- this needs to move
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../guide/practices/ui_guidelines/index.html">
               <span class="en">UI Guidelines</span>
             </a></div>
        <ul>
          <li class="nav-section">
            <div class="nav-section-header"><a href="../../guide/practices/ui_guidelines/icon_design.html">
                   <span class="en">Icon Design</span>
                 </a></div>
            <ul>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_launcher.html">
                    <span class="en">Launcher Icons</span>
                  </a></li>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_menu.html">
                    <span class="en">Menu Icons</span>
                  </a></li>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_action_bar.html">
                    <span class="en">Action Bar Icons</span>
                  </a></li>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_status_bar.html">
                    <span class="en">Status Bar Icons</span>
                  </a></li>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_tab.html">
                    <span class="en">Tab Icons</span>
                  </a></li>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_dialog.html">
                    <span class="en">Dialog Icons</span>
                  </a></li>
              <li><a href="../../guide/practices/ui_guidelines/icon_design_list.html">
                    <span class="en">List View Icons</span>
                  </a></li>
            </ul>
          </li>
          <li><div><a href="../../guide/practices/ui_guidelines/widget_design.html">
                <span class="en">App Widget Design</span>
              </a></div>
          </li>
        </ul>
      </li>
        </ul> --><!-- Remove
  <li class="nav-section">
    <div class="nav-section-header"><a href="../../guide/appendix/index.html">
        <span class="en">Appendix</span>
        <span class="de" style="display:none">Anhang</span>
        <span class="es" style="display:none">Apéndice</span>
        <span class="fr" style="display:none">Annexes</span>
        <span class="it" style="display:none">Appendice</span>
        <span class="ja" style="display:none">付録</span>
        <span class="zh-cn" style="display:none">附录</span>
        <span class="zh-tw" style="display:none">附錄</span>
      </a></div>
    <ul>
      <li><a href="../../guide/appendix/g-app-intents.html">
            <span class="en">Intents List: Google Apps</span>
          </a></li>


      <li><a href="../../guide/appendix/glossary.html">
            <span class="en">Glossary</span>
          </a></li>
    </ul>
  </li>

</li>
-->

      


</ul>


<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>


        

      </div>
    </div><!-- end side-nav --> 
    <script>
      $(document).ready(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="col-12" id="doc-col" >


  
    
      
        <h1 itemprop="name" >活动</h1>
      
    
  


  
  <div id="jd-content">


    <div class="jd-descr" itemprop="articleBody">
    <div id="qv-wrapper">
<div id="qv">
<h2>要点</h2>
<ul>
  <li>活动组件提供应用一个屏幕中的用户界面</li>
  <li>活动组件可以转移至后台状态然后恢复至活动状态</li>
</ul>

<h2>在本文档中</h2>
<ol>
  <li><a href="#Creating">创建一个活动</a>
    <ol>
      <li><a href="#UI">实现一个用户界面</a></li>
      <li><a href="#Declaring">在项目清单中定义活动</a></li>
    </ol>
  </li>
  <li><a href="#StartingAnActivity">启动活动组件</a>
    <ol>
      <li><a href="#StartingAnActivityForResult">启动其他活动并返回结果</a></li>
    </ol>
  </li>
  <li><a href="#ShuttingDown">关闭活动组件</a></li>
  <li><a href="#Lifecycle">管理活动生命周期</a>
    <ol>
      <li><a href="#ImplementingLifecycleCallbacks">实现生命周期回调</a></li>
      <li><a href="#SavingActivityState">保存活动状态</a></li>
      <li><a href="#ConfigurationChanges">处理配置更改</a></li>
      <li><a href="#CoordinatingActivities">活动间协调</a></li>
    </ol>
  </li>
</ol>

<h2>Key classes</h2>
<ol>
  <li><code><a href="../../reference/android/app/Activity.html">Activity</a></code></li>
</ol>

<h2>参考</h2>
<ol>
  <li><a href="../../guide/components/tasks-and-back-stack.html">任务和活动堆栈</a></li>
</ol>

</div>
</div>



<p><code><a href="../../reference/android/app/Activity.html">活动</a></code>是应用程序中的一个组件，用户能够在屏幕中可视化地进行操作，例如打电话、拍照、发送邮件或者查看地图等操作。每一个活动都拥有一个绘制该活动用户界面的窗口。通常活动的窗口填满整个设备的屏幕，或者比设备的屏幕小、或覆盖在其他活动窗口的上方。</p>

<p> 一个应用程序通常由多个活动组成。这些活动之间没有太多联系。在用户打第一次开应用程序时，一个指定的主活动会被呈现在屏幕中。然后应用程序中的每一个活动都能相互调用，完成用户不同的操作。每次新活动启动时，当前已经启动的活动将会被停止，并且系统将该活动保存在堆栈中（“活动返回堆栈”）。而新活动启动后会进入活动返回堆栈并获取当前用户焦点。活动返回堆栈遵守基本的后进先出的栈机制，所以当用户完成了对当前活动的操作并点击<em>返回</em>按钮之后，当前的活动将出栈，先前活动被恢复。（在<a href="../../guide/components/tasks-and-back-stack.html">任务和活动堆栈</a>文档中有更多关于活动返回堆栈的讨论。）</p>

<p>当一个活动由于另外一个新的活动启动而被暂停时，这个活动的状态就会被活动生命周期的回调方法修改。由于活动的状态改变，有几种活动可能收到的回调方法 — 系统是否正在创建、正在恢复、或者正在销毁 — 每一种回调方法为开发者提供了适合状态改变指定任务的机会。例如当一个活动被暂停时，该活动释放了一些占资源比较大的对象，比如网络和数据库连接。当这个被暂停的活动再次被恢复时，你可以重新获取必要的资源和获福被中断的操作。这些状态转换是活动生命周期全部表现。</p>

<p>接下来开始讨论如何创建和使用一个活动，包括了完整地说明活动整个生命周期的工作机制，所以你可以正确地管理各种活动状态之间的转换。</p>



<h2 id="Creating">创建一个活动</h2>

<p>创建一个活动的前提是开发者必须创建一个 <code><a href="../../reference/android/app/Activity.html">Activity</a></code>  的子类（或者实现一个已经继承了活动类的子类的类）。在这个子类中，应实现回调方法，而这些回调方法在各种活动的生命周期状态转换时会被系统调用，如活动被创建、被停止、被恢复或者被销毁。其中最重要的两个回调方法是：</p>

<dl>
  <dt><code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code></dt>
  <dd>你必须要实现这个方法。当创建一个活动时，系统调用该方法。在你的实现中，你应该初始化活动的重要组件。最重要的是，在这个回调方法中你必须调用 <code><a href="../../reference/android/app/Activity.html#setContentView(android.view.View)">setContentView()</a></code> 方法来定义活动的用户界面布局。</dd>
  <dt><code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code></dt>
  <dd>当系统调用这个方法表明用户正在离开该方法所在的活动（尽管这并不意味着该活动立即被销毁）。因为用户可能不会返回该活动，在这个回调中你应该提交所有应持久化的改变，让这些改变能在下次用户回话中仍生效。</dd>
</dl>

<p>除了上述的两个活动生命周期回调方法以外，还有一些在活动与一些由于应用程序中的活动被停止或者被销毁而导致不可预测的中断之间提供舒适用户体验的生命周期回调方法。所有关于生命周期回调方法的讨论，都会在<a href="#Lifecycle">管理活动生命周期</a>小节中进行。</p>



<h3 id="UI">实现一个用户界面</h3>

<p> 活动的用户界面由多层视图提供，这些视图都源自 <code><a href="../../reference/android/view/View.html">View</a></code> 类。每一个视图控制了在活动的窗口内部的一个指定的矩形空间，并能够响应用户的操作。例如，一个视图可能为一个按钮，当用户点击这个按钮时可以启动一个动作。</p>

<p>安卓系统提供了大量现成的视图，这些视图可应用在设计和组织你的布局。“小部件”是一个能够为设备屏幕提供视可视化（可交互）元素的视图，如一个按钮、文本框、复选框或者仅仅是一张图片。“布局”是源于 <code><a href="../../reference/android/view/ViewGroup.html">ViewGroup</a></code> 类的视图，它能为子视图提供一个特定的布局模型，如线性布局、网格布局或相对布局。你也可以继承 <code><a href="../../reference/android/view/View.html">View</a></code> 类和 <code><a href="../../reference/android/view/ViewGroup.html">ViewGroup</a></code> 类（或者它们的子类）来创建你自己的小部件和布局并将它们应用到你的活动布局中。</p>

<p>最常见的用视图定义布局的方法是使用 XML 布局文件，它保存在应用资源目录下。用这个方法，你可以将用户界面的设计同定义活动行为的代码分离。你可以使用 <code><a href="../../reference/android/app/Activity.html#setContentView(int)">setContentView()</a></code> 方法设置活动的用户界面布局，将布局资源 ID 传至参数中。当然，你也可以在活动代码中创建新的<code><a href="../../reference/android/view/View.html">视图</a></code>并将新的<code><a href="../../reference/android/view/View.html">视图</a></code>插入<code><a href="../../reference/android/view/ViewGroup.html">视图组</a></code>来构建视图层次结构，然后将根<code><a href="../../reference/android/view/ViewGroup.html">视图组</a></code>设为 <code><a href="../../reference/android/app/Activity.html#setContentView(android.view.View)">setContentView()</a></code> 方法参数来使用这个布局。</p>

<p>更多关于创建用户界面的信息，查看<a
href="../../guide/topics/ui/index.html">用户界面</a>文档。</p>



<h3 id="Declaring">在项目清单中定义活动</h3>

<p>你必须在项目清单文件中定义你的活动，这样系统才能访问它们。要声明你的活动，打开项目清单文件然后添加一条 <a
href="../../guide/topics/manifest/activity-element.html"><code>&lt;activity&gt;</code></a> 元素作为 <a
href="../../guide/topics/manifest/application-element.html"><code>&lt;application&gt;</code></a> 元素的子节点。例如：</p>

<pre>
&lt;manifest ... &gt;
  &lt;application ... &gt;
      &lt;activity android:name=".ExampleActivity" /&gt;
      ...
  &lt;/application ... &gt;
  ...
&lt;/manifest &gt;
</pre>

<p>在这个元素中可以包括一些其它的属性来定义一些属性，如活动标签、活动图标、活动用户界面主题等。<a href="../../guide/topics/manifest/activity-element.html#nm"><code>android:name</code></a> 属性是唯一必须的属性 — 它说明活动的类名称。一旦你发布应用，你不应该改变这个名称，因为一旦你改变了它你可能会破坏一些功能，如应用快捷方式（请参考博文<a
href="http://android-developers.blogspot.com/2011/06/things-that-cannot-change.html">不应该改变的事情</a>）。</p>

<p>查看 <a
href="../../guide/topics/manifest/activity-element.html"><code>&lt;activity&gt;</code></a> 元素参考来获得更多关于在项目清单中声明活动的信息。</p>


<h4>使用意图过滤器</h4>

<p><a href="../../guide/topics/manifest/activity-element.html"><code>&lt;activity&gt;</code></a> 元素可以指定不同意图过滤器 — 使用 <a
href="../../guide/topics/manifest/intent-filter-element.html"><code>&lt;intent-filter&gt;</code></a> 元素 — 它用来声明其它应用组件如何激活这个活动。</p>

<p>当你使用安卓 SDK 工具创建新应用程序，自动创建的存根活动会包括一个意图过滤器，它声明该活动响应“主要”动作，并应放置在“启动器”类别。意图过滤器看起来像这样：</p>

<pre>
&lt;activity android:name=".ExampleActivity" android:icon="@drawable/app_icon"&gt;
    &lt;intent-filter&gt;
        &lt;action android:name="android.intent.action.MAIN" /&gt;
        &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;
</pre>

<p><a href="../../guide/topics/manifest/action-element.html"><code>&lt;action&gt;</code></a> 元素指定该活动为应用的“主要“入口点。<a
href="../../guide/topics/manifest/category-element.html"><code>&lt;category&gt;</code></a> 元素指定这个活动应该在系统的应用启动器中列出（让用户可以启动这个活动）。</p>

<p>如果想让一个应用程序独立于其他应用程序而不允许其他应用程序激活该独立应用程序的活动，那么你不需要意图过滤器。就像前面的例子中一样，只需要一个活动有"主要"动作和"启动器"分类意图过滤器。不希望被其他应用程序使用的活动不应包含意图过滤器和你可以使用显式的意图启动这些活动（将在下面的章节中讨论）。</p>

<p>但如果想让你的活动响应从其他应用程序传递过来的隐式的意图（或者是开发者自己传递的隐式的意图），这时必须在你的活动中定义额外的意图过滤器。对每一种需要响应的意图类型，你必须包括一个 <a
href="../../guide/topics/manifest/intent-filter-element.html"><code>&lt;intent-filter&gt;</code></a> 元素，它会包括 <a href="../../guide/topics/manifest/action-element.html"><code>&lt;action&gt;</code></a> 元素、 <a
href="../../guide/topics/manifest/category-element.html"><code>&lt;category&gt;</code></a> 元素或 <a
href="../../guide/topics/manifest/data-element.html"><code>&lt;data&gt;</code></a> 元素。这些元素说明活动能响应的意图类型。</p>

<p>更多关于活动如何响应意图的信息，请查看<a
href="../../guide/components/intents-filters.html">意图和意图过滤器</a>文档。</p>



<h2 id="StartingAnActivity">启动活动组件</h2>

<p>通过调用 <code><a href="../../reference/android/app/Activity.html#startActivity(android.content.Intent)">startActivity()</a></code> 方法可以启动另一个活动，给方法传递一个<code><a href="../../reference/android/content/Intent.html">意图</a></code>参数来描述你希望启动的活动。这个意图指定你想要启动的具体活动或者描述你想要执行的那种动作（系统为你选择了合适的活动，这个活动甚至可来自其他应用程序）。意图可以携带少量的数据，这些数据会被启动的活动组件使用。</p>

<p>当在你自己的应用程序中工作时，通常需要简单地启动一个已知活动。你可以使用要启动的活动组件类名称来显式地定义一个意图。例如下面这两行代码是某个活动组件启动另外一个名为 <code>SignInActivity</code> 的活动的例子：</p>

<pre>
Intent intent = new Intent(this, SignInActivity.class);
startActivity(intent);
</pre>

<p>然而，你的应用程序可能会执行一些动作，例如发邮件、文本信息、或者状态更新、从活动中使用数据。在这些的情况中，你的应用程序可能没有类似的活动去完成上述的一些动作，所以你可以利用来本设备上其他应用程序的活动，这些活动能够完成你想要的动作。这正是体现了意图的真正价值的地方 — 你可以创建一个意图，意图中描述了你想要执行的动作，之后系统便会从其他应用程序中启动合适的活动。如果存在多个能够操纵意图的活动，那么用户可以选择使用那一个活动。例如，如果你想允许用户发送邮件信息，你可以创建如下的意图：</p>

<pre>
Intent intent = new Intent(Intent.ACTION_SEND);
intent.putExtra(Intent.EXTRA_EMAIL, recipientArray);
startActivity(intent);
</pre>

<p>意图中添加的 <code><a href="../../reference/android/content/Intent.html#EXTRA_EMAIL">EXTRA_EMAIL</a></code> 额外字段是一个邮件地址的字符串属猪，它说明了所有收件人邮件地址。当一个电子邮箱应用程序响应了这个意图，将会读取额外字段里面的字符串数组并将这些邮箱地址作为电子邮箱收件人地址。在这中的情况中国，电子邮件应用程序的活动启动并且当用户完成发动邮件操作时，会返回到你的活动中。</p>




<h3 id="StartingAnActivityForResult">启动其他活动并返回结果</h3>

<p>有时候，你可能需要从你启动的另外一个活动中得到一个返回结果。在这样的情形下，通过调用  <code><a href="../../reference/android/app/Activity.html#startActivityForResult(android.content.Intent, int)">startActivityForResult()</a></code> 方法（而不是 <code><a href="../../reference/android/app/Activity.html#startActivity(android.content.Intent)">startActivity()</a></code> 方法）。然后实现 <code><a href="../../reference/android/app/Activity.html#onActivityResult(int, int, android.content.Intent)">onActivityResult()</a></code> 回调方法来接收后续活动中获取返回的结果。当后续队列中的活动完成之后，它返回一个<code><a href="../../reference/android/content/Intent.html">意图</a></code>作为结果给你的 <code><a href="../../reference/android/app/Activity.html#onActivityResult(int, int, android.content.Intent)">onActivityResult()</a></code> 方法。</p>

<p>例如，你可能希望用户从设备的通信录中选择一个联系人，这样你的活动可以对联系人的信息进行一些操作。下段代码可以创建一个意图并处理返回结果：</p>

<pre>
private void pickContact() {
    // Create an intent to "pick" a contact, as defined by the content provider URI
    Intent intent = new Intent(Intent.ACTION_PICK, Contacts.CONTENT_URI);
    startActivityForResult(intent, PICK_CONTACT_REQUEST);
}

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    // If the request went well (OK) and the request was PICK_CONTACT_REQUEST
    if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == PICK_CONTACT_REQUEST) {
        // Perform a query to the contact's content provider for the contact's name
        Cursor cursor = getContentResolver().query(data.getData(),
        new String[] {Contacts.DISPLAY_NAME}, null, null, null);
        if (cursor.moveToFirst()) { // True if the cursor is not empty
            int columnIndex = cursor.getColumnIndex(Contacts.DISPLAY_NAME);
            String name = cursor.getString(columnIndex);
            // Do something with the selected contact's name...
        }
    }
}
</pre>

<p>这个例子显示了为了处理活动返回结果你需要在 <code><a href="../../reference/android/app/Activity.html#onActivityResult(int, int, android.content.Intent)">onActivityResult()</a></code> 方法中使用的基本逻辑。第一个判断条件判断了请求是否成功 — 如果成功，<code>resultCode</code> 值将会是 <code><a href="../../reference/android/app/Activity.html#RESULT_OK">RESULT_OK</a></code> — 以及请求的结果是否已知 — 在这个例子中，<code>requestCode</code> 与 <code><a href="../../reference/android/app/Activity.html#startActivityForResult(android.content.Intent, int)">startActivityForResult()</a></code> 发送的第二个参数相匹配。在匹配请求码后，代码将对活动返回结果进行操作，它会查询使用<code><a href="../../reference/android/content/Intent.html">意图</a></code>返回的数据（<code>data</code> 参数项）。</p>

<p>查询过程即是：<code><a href="../../reference/android/content/ContentResolver.html">内容解析器</a></code>将在内容提供器中执行一个查询，它返回一个<code><a href="../../reference/android/database/Cursor.html">游标</a></code>对象，然后通过游标可以读取查询数据。更多相关信息，查看<a
href="../../guide/topics/providers/content-providers.html">内容提供器</a>文档。</p>

<p>更多关于使用意图的信息，查看<a
href="../../guide/components/intents-filters.html">意图和意图过滤器</a>文档。</p>


<h2 id="ShuttingDown">关闭活动组件</h2>

<p>你可以使用 <code><a href="../../reference/android/app/Activity.html#finish()">finish()</a></code> 方法关闭一个活动组件。你也可以通过调用 <code><a href="../../reference/android/app/Activity.html#finishActivity(int)">finishActivity()</a></code> 方法来关闭一个先前已经启动且独立的活动。</p>

<p class="note"><strong>注意：</strong>在大多数情况下，你不应该显示地使用这些方法关闭活动。在后面讨论活动生命周期的章节中，安卓系统会为你管理活动的生命，所以你不必要手动关闭你自己的活动。调用这些方法可能会对用户预期的体验造成不利的影响，只有确定你不要希望用户返回这个活动实例时才建议你使用这两个方法。</p>


<h2 id="Lifecycle">管理活动生命周期</h2>

<p>实现回调方法来管理你活动的生命周期是开发一个健壮和灵活应用程序的关键。活动的生命周期受到与之相关联的其他活动直接的影响，它的任务和返回堆栈。</p>

<p>一个活动本质上来说可以以三种状态存在：</p>

<dl>
  <dt><i>恢复状态</i></dt>
    <dd>当前活动在屏幕的前台同时拥有用户的焦点。（这种状态有时候也被称为“运行状态”。）</dd>

  <dt><i>暂停状态</i></dt>
    <dd>另一个活动在前台同时拥有焦点，但是当前活动还是可见的。也就是说另一个在此之上的活动是可见的，同时这个活动是部分透明的或者没有覆盖整个屏幕。一个暂停了的活动是完整存活着的（<code><a href="../../reference/android/app/Activity.html">活动</a></code>对象还在保持在内存中，它还维持着所有的状态和成员信息，仍然附属于窗口管理器），但是在内存非常低的情况下系统可以杀死它。</dd>

  <dt><i>停止状态</i></dt>
    <dd>当前活动被其他活动完全覆盖（现在当前活动是在“后台”）。一个停止的活动也还存活着（该<code><a href="../../reference/android/app/Activity.html">活动</a></code> 对象还保持在内存中，它还维持着所有的状态和成员信息， 但<em>不</em>依附属于窗口管理器）。但是，对于用户来说它将不再可见同时当其他地方需要内存的时候它可能被系统杀死。</dd>
</dl>

<p>如果一个活动被暂停或者停止了，系统可以通过请求它去结束（调用它的 <code><a href="../../reference/android/app/Activity.html#finish()">finish()</a></code> 方法），或简单地杀死他的进程来把它从内存中删除。当活动被再次打开的时候（在被结束或者杀死之后），它必须完全重新创建。</p>



<h3 id="ImplementingLifecycleCallbacks">实现生命周期回调</h3>

<p>当一个活动在上述不同的状态间转换的时候，它是通过各种回调方法进行通知的。所有的回调方法都是钩子，你可以通过重写它们以便在活动的状态改变时进行适当的运作。接下来的这个活动框架包括了每一个基本的生命周期方法：</p>


<pre>
public class ExampleActivity extends Activity {
    @Override
    public void <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate</a></code>(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // The activity is being created.
    }
    @Override
    protected void <code><a href="../../reference/android/app/Activity.html#onStart()">onStart()</a></code> {
        super.onStart();
        // The activity is about to become visible.
    }
    @Override
    protected void <code><a href="../../reference/android/app/Activity.html#onResume()">onResume()</a></code> {
        super.onResume();
        // The activity has become visible (it is now "resumed").
    }
    @Override
    protected void <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> {
        super.onPause();
        // Another activity is taking focus (this activity is about to be "paused").
    }
    @Override
    protected void <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> {
        super.onStop();
        // The activity is no longer visible (it is now "stopped")
    }
    @Override
    protected void <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> {
        super.onDestroy();
        // The activity is about to be destroyed.
    }
}
</pre>

<p class="note"><strong>注意：</strong>就像上面显示的例子一样，在你的这些生命周期方法的实现中，你必须要在做任何操作前先调用超类的实现。</p>

<p>总的来说，这些方法定义了整个活动组件生命周期。通过实现这些方法，你可以监视活动组件声明周期的三层循环。 </p>

<ul>
<li>活动组件的<b>完整生命周期</b>开始于调用 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 方法，结束于调用 <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> 方法。活动组件可以在 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 方法中执行一些全局状态设置（如定义布局），在 <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> 中释放所有剩余的资源。例如，如果你的活动中包含一个从网络上下载数据的后台线程，那么该线程可以在 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 方法中创建并在 <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> 方法中停止。</li>

<li><p>活动组件的<b>可视生命周期</b>发生在 <code><a href="../../reference/android/app/Activity.html#onStart()">onStart()</a></code> 方法与 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 方法的调用之间。在这个时间段，用户可以在屏幕上看见活动并与之交互。例如 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 当新活动开始时被调用，而原先的活动不再可见。在这两个方法之间，你可以管理活动中需要显示的资源。例如，你可以在 <code><a href="../../reference/android/app/Activity.html#onStart()">onStart()</a></code> 方法中注册一个<code><a href="../../reference/android/content/BroadcastReceiver.html">广播接收器</a></code>来监视对用户界面的变化，然后当用户不能看见该活动时在 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 方法中取消注册。当活动在可视状态和隐藏状态中切换时，系统会在整个生命周期内多次调用 <code><a href="../../reference/android/app/Activity.html#onStart()">onStart()</a></code> 和 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 方法。</p></li>

<li><p>活动组件的<b>前台生命周期</b>发生在 <code><a href="../../reference/android/app/Activity.html#onResume()">onResume()</a></code> 方法与 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法的调用之间。在这个时间短，活动在屏幕中所有活动的最前端并拥有用户输入焦点。一个活动可以频繁地进出前台生命周期 — 例如当设备休眠时或者当一个对话框出现时 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 会被调用。因为这个状态会频繁的转变，在这两个方法中的代码应该相对轻量，以避免用户会等待状态的转变。</p></li>
</ul>

<p>图表 1 显示这些循环和活动状态转变的路径。其中方形表示当活动状态转换时你可以实现的回调方法。 <p>

<img src="../../images/activity_lifecycle.png" alt="" />
<p class="img-caption"><strong>图表 1.</strong> 活动生命周期。</p>

<p>相同的生命周期回调方法在表格 1 中列出，它描述了回调方法的更多细节以及该方法在完整生命周期内的位置，还包括了在回调方法完成后系统是否能杀死活动的信息。</p>

<p class="table-caption"><strong>表格 1.</strong> 活动生命周期回调方法的总结。</p>

<table border="2" width="85%" frame="hsides" rules="rows">
<colgroup align="left" span="3"></colgroup>
<colgroup align="left"></colgroup>
<colgroup align="center"></colgroup>
<colgroup align="center"></colgroup>

<thead>
<tr><th colspan="3">方法</th> <th>描述</th> <th>可杀死？</th> <th>下一个方法</th></tr>
</thead>

<tbody>
<tr>
  <td colspan="3" align="left"><code><code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code></code></td>
  <td>当活动创建时被调用。在这里你可以进行所有的常规静态设置 — 创建视图、绑定数据到列表上等等。如果状态被捕捉到，方法会传入一个包含活动之前状态的绑定对象（查看<a href="#actstate">保存活动状态</a>小节）。
      <p>永远接着 <code>onStart()</code> 方法。</p></td>
  <td align="center">不可以</td>
      <td align="center"><code>onStart()</code></td>
</tr>

<tr>
   <td rowspan="5" style="border-left: none; border-right: none;">&nbsp;&nbsp;&nbsp;&nbsp;</td>
   <td colspan="2" align="left"><code><code><a href="../../reference/android/app/Activity.html#onRestart()">onRestart()</a></code></code></td>
   <td>当活动停止后再次启动前被调用。
       <p>永远接着 <code>onStart()</code> 方法。</p></td>
   <td align="center">不可以</td>
   <td align="center"><code>onStart()</code></td>
</tr>

<tr>
   <td colspan="2" align="left"><code><code><a href="../../reference/android/app/Activity.html#onStart()">onStart()</a></code></code></td>
   <td>在活动可见前被调用。
       <p>如果活动要前台显示，接着 <code>onResume()</code> 方法，如果活动要变得不可见则接着 <code>onStop()</code> 方法。</p></td>
    <td align="center">不可以</td>
    <td align="center"><code>onResume()</code> <br/>或<br/><code>onStop()</code></td>
</tr>

<tr>
   <td rowspan="2" style="border-left: none;">&nbsp;&nbsp;&nbsp;&nbsp;</td>
   <td align="left"><code><code><a href="../../reference/android/app/Activity.html#onResume()">onResume()</a></code></code></td>
   <td>在活动开始和用户交互前被调用。从这里开始活动会在活动堆栈顶端，用户可以在活动中输入信息。
       <p>永远接着 <code>onPause()</code> 方法。</p></td>
   <td align="center">不可以</td>
   <td align="center"><code>onPause()</code></td>
</tr>

<tr>
   <td align="left"><code><code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code></code></td>
   <td>当系统要启动其它活动时被调用。这个方法主要用于持久化没有保存的变化数据以及停止动画等一些消费 CPU 资源的事情。它应该尽快完成所有工作，因为下一个活动在它返回后才开始。
       <p>当活动返回前台时接着 <code>onResume()</code> 方法，或当活动不可见后接着 <code>onStop()</code> 方法。</td>
   <td align="center"><strong style="color:#800000">可以</strong></td>
   <td align="center"><code>onResume()</code> <br/>或<br/><code>onStop()</code></td>
</tr>

<tr>
   <td colspan="2" align="left"><code><code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code></code></td>
   <td>当活动对用户不再可见时被调用。这是因为活动可能正在被销毁，或是因为其它活动（已经存在的活动或新活动）正在被启动并覆盖在这个活动上。
       <p>当活动将返回前台时接着 <code>onRestart()</code> 方法，或活动要消失时接着 <code>onDestroy()</code> 方法。</p></td>
   <td align="center"><strong style="color:#800000">可以</strong></td>
   <td align="center"><code>onRestart()</code> <br/>或<br/><code>onDestroy()</code></td>
</tr>

<tr>
   <td colspan="3" align="left"><code><code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code></code></td>
   <td>在活动被销毁前被调用。这是活动会收到的最后一个调用。在活动已经完成时（<code><code><a href="../../reference/android/app/Activity.html#finish()">finish()</a></code></code> 被调用），或系统要临时销毁这个活动实例来节省空间时，这个方法会被调用。你可以使用 <code><code><a href="../../reference/android/app/Activity.html#isFinishing()">isFinishing()</a></code></code> 方法来区分这两种情形。</td>
   <td align="center"><strong style="color:#800000">可以</strong></td>
   <td align="center"><em>无</em></td>
</tr>
</tbody>
</table>

<p>在“可杀死”的列标签中，说明了系统<em>在方法返回之后</em>的任意时间能否杀死托管活动组件的进程,不用执行任何的活动组件代码。三个方法被标记为“可以”（<code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code>、<code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 和 <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> 方法）。因为 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法是这三个方法中的第一个，当活动组件被创建之后，<code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法 <em>能</em> 确保在进程被杀死之前最后被调用的一个方法 — 如果系统在紧急情况下必须释放内存，然后 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 和 <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> 可能不会被调用。所以，你应该在 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法中编写重要的持久化数据保存代码（例如用户的编辑）。然而，你应该选择那些必要的信息储存在 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法中，因为在这个方法中一些阻塞的进程对切换到下一个活动组件的操作产生影响，并且让用户体验带来延迟。</p>

<p> 在<b>可杀死</b> 列中标记为“不可以”的方法保护了托管在活动中的线程，避免了在这些方法调用的瞬间被杀死。所以，从 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 返回到 <code><a href="../../reference/android/app/Activity.html#onResume()">onResume()</a></code> 被调用时的活动可以被杀死。它不能阻止被杀死直到 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 再次被调用和返回之前。 </p>

<p class="note"><strong>注意：</strong>在表 1 中标记为不可杀死的活动仍然可能被系统杀死 — 但这仅仅发生在没有其他资源的很糟糕情景。什么时候一个活动可能被杀死将在<a
href="../../guide/components/processes-and-threads.html">进程和线程</a>文档中讨论。</p>


<h3 id="SavingActivityState">保存活动状态</h3>

<p><a href="#Lifecycle">管理活动组件的生命周期</a>简单地介绍了活动组件什么时候被暂停和停止，活动组件状态的保存。这是正确的，因为当一个<code><a href="../../reference/android/app/Activity.html">活动</a></code>对象暂停或停止之后仍占有内存 — 关于活动对象所有的成员和当前状态仍保持存活。所以，用户在活动中所做的改变被保存，当这个活动返回到前台（当它”恢复“）之后，这些改变依然在那里。</p>

<p>但是，系统为了释放内存而销毁一个活动组件时，<code><a href="../../reference/android/app/Activity.html">活动</a></code>对象被销毁，所以系统不可能对它的状态完好无损地恢复。相反，当用户导航回到被销毁的活动时，系统必须重新创建一个<code><a href="../../reference/android/app/Activity.html">活动</a></code>对象。但是用户并没有意识到系统已经把这个活动组件销毁之后重新创建一个活动，他们仅仅是期望这个活动跟销毁之前一样。在这样的情况下，通过实现另外允许你保存你的活动状态信息的一个回调方法：<code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code>，你应该确保关于活动状态的一些重要信息已经保存了下来。</p>

<p>在活动组件变得容易被销毁之前，系统调用 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 方法。系统往这个方法中传递一个你可以保存活动信息键值对的 <code><a href="../../reference/android/os/Bundle.html">Bundle</a></code> 参数，使用像 <code><a href="../../reference/android/os/Bundle.html#putString(java.lang.String, java.lang.String)">putString()</a></code> 和 <code><a href="../../reference/android/os/Bundle.html#putInt(java.lang.String, int)">putInt()</a></code> 方法。然后，如果系统杀死了你应用程序的进程和用户导航回到你的活动组件，系统重新创建这个活动并把 <code><a href="../../reference/android/os/Bundle.html">Bundle</a></code> 参数传递给 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 和 <code><a href="../../reference/android/app/Activity.html#onRestoreInstanceState(android.os.Bundle)">onRestoreInstanceState()</a></code> 方法。使用上述方两个法中任意一个方法，你可以取回保存在 <code><a href="../../reference/android/os/Bundle.html">Bundle</a></code> 中的状态以及恢复活动的状态。如果活动没有状态信息恢复，那么 <code><a href="../../reference/android/os/Bundle.html">Bundle</a></code> 参数为你传递一个空值（这就是活动第一次被创建时的情景）。</p>

<img src="../../images/fundamentals/restore_instance.png" alt="" />
<p class="img-caption"><strong>图 2.</strong> 活动在状态完全没有改变的情况下获取用户的焦点的两种方式：1.活动被销毁之后被重新创建，这时活动先前的状态必须完整地被恢复。2.活动被停止，在恢复之后活动组件的状态保持不变。</p>

<p class="note"><strong>注意：</strong>系统并不能确保你的活动被销毁之前调用 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 方法，因为存在没有必要保存活动状态的我情况（例如当用户点击了<em>返回</em>按钮离开你的活动组件，因为用户的目的是关闭这个活动组件）。系统可能在 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 或者 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法前调用 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 方法。</p>

<p>但是，即使你不做任何事情，不实现 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 方法，一些活动的状态还是会通过<code><a href="../../reference/android/app/Activity.html">活动</a></code>类的默认 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 实现。默认的实现调用了布局中对应的每个<code><a href="../../reference/android/view/View.html">视图</a></code>的 <code><a href="../../reference/android/view/View.html#onSaveInstanceState()">onSaveInstanceState()</a></code> 方法，该方法允许每个视图提供关于它本身的那些需要被存储的信息。安卓框架中几乎每个小部件都适当的实现了这个方法，这样当你的活动被重新创建的时候，界面上的每一个可见变化都会自动地存储和恢复。例如，<code><a href="../../reference/android/widget/EditText.html">编辑框</a></code>小部件保存任何用户输入的文本，<code><a href="../../reference/android/widget/CheckBox.html">复选框</a></code>小部件存储它是否被选中。你唯一需要做的事就是为每一个你想存储状态的小部件提供一个唯一 ID（使用 <a
href="../../guide/topics/resources/layout-resource.html#idvalue"><code>android:id</code></a> 属性）。如果一个小部件没有 ID，那么系统将不会存储它的状态。</p>

<div class="sidebox-wrapper">
<div class="sidebox">
<p>你也可以通过设定 <code><a href="../../reference/android/R.attr.html#saveEnabled">android:saveEnabled</a></code> 属性为 <code>"false"</code> 或者调用 <code><a href="../../reference/android/view/View.html#setSaveEnabled(boolean)">setSaveEnabled()</a></code> 方法去阻止一个实体存储它的状态。通常，你不应该禁止这个，不过如果你想以另外的方式恢复活动的界面状态的话，你可以这么做。</p>
</div>
</div>

<p>尽管 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 的默认实现保存了你的活动界面的有用信息，你还是需要去重写它以便保存额外的信息。例如，你可能需要保存那些在活动生命周期中改变了的成员值（默认情况下，这些成员也许和界面恢复的值有关联，但是这些控制界面值的成员不会被保存）。</p>

<p>因为 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 的默认实现保存了界面的状态，所以如果你重写这个方法去保存额外的状态信息时，你应当在做其他操作之前调用 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 的超类实现。同样的，如果你重写了这个方法，你也应该调用 <code><a href="../../reference/android/app/Activity.html#onRestoreInstanceState(android.os.Bundle)">onRestoreInstanceState()</a></code> 的超类实现，以便默认的实现去存储视图的状态。</p>

<p class="note"><strong>注意：</strong> 因为不能保证 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 方法一定会被调用，所以你应当只用它来记录活动状态（界面状态）的转换 — 你不应该用它来存储持久数据。相反，当用户离开活动的时候你应该使用 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法来存储持久数据（比如需要存储到数据库的数据）。</p>

<p>测试你的应用程序存储的状态能力的一个好办法是旋转设备使得屏幕的方向改变。当屏幕的方向改变时，为了给屏幕参数配置应用可用的可替代资源，系统将会销毁并重新创建活动。仅就这点而言，当你的活动重新创建的时候完全恢复它的状态是十分重要的，因为当用户使用应用程序的时候他们经常旋转屏幕。</p>


<h3 id="ConfigurationChanges">处理配置更改</h3>

<p>一些设备配置可以在运行时更改（如屏幕方向、软键盘显示和语言）。当这些配置更改时，安卓系统重建运行的活动组件（系统调用 <code><a href="../../reference/android/app/Activity.html#onDestroy()">onDestroy()</a></code> 方法，然后紧接着调用 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 方法）。这样你的应用可以通过重载资源来自适应配置变化（如为不同屏幕方向和尺寸使用不同的界面布局）。</p>

<p>如果你正确的设计你的活动来处理由于屏幕方向更改引起的重启并回复活动状态，你的应用会面对活动声明周期的其它突发事件时更有弹性。</p>

<p>处理活动重启的最佳方法是使用 <code><a href="../../reference/android/app/Activity.html#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> 和 <code><a href="../../reference/android/app/Activity.html#onRestoreInstanceState(android.os.Bundle)">onRestoreInstanceState()</a></code> 方法（或 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 方法）来保存和恢复活动状态，这在前面小节中已经讨论了。</p>

<p>更多关于运行时配置更改的信息和如何处理这些配置更改的信息，请阅读<a href="../../guide/topics/resources/runtime-changes.html">处理运行时更改</a>指南。</p>



<h3 id="CoordinatingActivities">活动间协调</h3>

 <p>当某个活动启动另一个活动，它们都经历生命周期转变过程。第一个活动首先暂停并停止活动（尽管它仍在后台可见，并没有完全停止），而另一个活动被创建。如果这些活动的共享数据保存到磁盘上或其它地方，要明白第二个活动创建前以第一个活动没有完全停止。相反，启动第二个活动组件的过程与停止第一个活动组件的过程相互重叠。</p>

<p>生命周期回调方法的顺序被被良好定义，特别是当两个活动都在同一个进程中而其中一个正启动另一个活动。这里是当活动 A 启动活动 B 时发生的操作的顺序： </p>

<ol>
<li>执行活动 A 的 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法。</li>

<li>顺序执行活动 B 的 <code><a href="../../reference/android/app/Activity.html#onCreate(android.os.Bundle)">onCreate()</a></code> 方法、<code><a href="../../reference/android/app/Activity.html#onStart()">onStart()</a></code> 方法和 <code><a href="../../reference/android/app/Activity.html#onResume()">onResume()</a></code> 方法。（活动 B 现在获得用户关注焦点。）</li>

<li>然后，如果活动 A 在屏幕上不可见，那么执行它的 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 方法。</li>
</ol>

 <p>这个生命周期回调方法的固定顺序让你可以管理活动件间的信息转换。例如，如果你需要在第一个活动停止前将数据写入数据库并让第二个活动可以获取这些信息，你应该在 <code><a href="../../reference/android/app/Activity.html#onPause()">onPause()</a></code> 方法中将数据写入数据库而不是在 <code><a href="../../reference/android/app/Activity.html#onStop()">onStop()</a></code> 方法中。</p><!--
<h2>Beginner's Path</h2>

<p>For more information about how Android maintains a history of activities and
enables user multitasking, continue with the <b><a
href="../../guide/components/tasks-and-back-stack.html">Tasks and Back
Stack</a></b> document.</p>
-->



    </div>
      
      <div class="content-footer layout-content-row" 
                    itemscope itemtype="http://schema.org/SiteNavigationElement">
        <div class="layout-content-col col-8" style="padding-top:4px">
          
            <div class="g-plusone" data-size="medium"></div>
          
        </div>
        
        <div class="paging-links layout-content-col col-4">
          
        </div>
        
      </div>
      
      
      

  </div><!-- end jd-content --> 

<div id="footer" class="wrap" >
        

  <div id="copyright">
    
  
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../../license.html">Content 
  License</a>.
  
  </div>


  <div id="footerlinks">
    
  <p>
    <a href="../../about/index.html">About Android</a>&nbsp;&nbsp;|&nbsp;
    <a href="../../legal.html">Legal</a>&nbsp;&nbsp;|&nbsp;
    <a href="../../support.html">Support</a>
  </p>
  </div>

</div><!-- end footer --> 
</div><!-- end doc-content -->

</div><!-- end body-content -->  






</body>
</html>



